<div class="ui-selector" ng-init="busqueda_de={};busqueda_a={}">

  <div class="ui-selector-area ui-selector-from">
    <div class="search" ng-if="tieneFiltro">
      <input type="text" class="form-control" ng-model="busqueda_de[model.atributo]">
      <span class="ui-icon ui-icon-search"></span>
    </div>
    <div class="area">
      <div class="header" ng-if="titulo_de">
        {{ titulo_de }}
      </div>
      <div ng-drop="manejadorDrop('de')" id="divDe{{ $id }}" >
        <ul id="lista-de-{{ $id }}"  >
          <li ng-repeat="item in model.listas.de  | orderBy: model.atributo | unique: model.atributo | filter:busqueda_de | not_in:model.listas.a:model.filtros.de track by $index " ng-class="{'it_selected': item.seleccionado}">
            <div class="row contenedor-selector"  >
              <div class="col-xs-1 col-sm-1 col-md-1" ng-class="{'invisible':sinCheck}">
                <input type="checkbox" ng-model="item.seleccionado" id="check-lista-de-{{$id}}-{{ item[model.atributo] }}" >

                <label for="check-lista-de-{{$id}}-{{ item[model.atributo] }}" class="imitation-check ui-state-hover"  ng-init="item.seleccionado=false" >
                  <span class="ui-icon ui-chkbox-icon ui-icon-check" ng-if="item.seleccionado"></span>
                </label>
              </div>
              <div class="col-xs-11 col-sm-11 col-md-11" ng-class="{'ancho-maximo':sinCheck}"  ng-click="seleccionarCheck(model.listas.de, item, $event, false)"  draggable="true" ng-dragstart="seleccionarCheckDrag('lista-a-', item, $event, false)" >
                <div class="nombre_lista">{{ model.atributo ? item[model.atributo]: item }}</div>
              </div>
          </li>
        </ul>
      </div>
    </div>
  </div>
  <div class="botonera">
    <button ui-button icono="ui-icon-arrow-1-e" ng-click="enviarSeleccionados()"></button>
    <button ui-button icono="ui-icon-arrowstop-1-e" ng-click="enviarTodos()"></button>
    <button ui-button icono="ui-icon-arrow-1-w" ng-click="devolverSeleccionados()"></button>
    <button ui-button icono="ui-icon-arrowstop-1-w" ng-click="devolverTodos()"></button>
  </div>
  <div class="ui-selector-area ui-selector-to" ng-init="checks_lista_a=[]">
    <div class="search" ng-if="tieneFiltro"> 
      <input type="text" class="form-control" ng-model="busqueda_a[model.atributo]">
      <span class="ui-icon ui-icon-search"></span>
    </div>
    <div class="area">
      <div class="header" ng-if="titulo_a">
        {{ titulo_a }}
      </div>
      <div ng-drop="manejadorDrop('a')" id="divA{{ $id }}"  >
        <ul id="lista-a-{{ $id }}" >
          <li ng-repeat="item in  model.listas.a  | orderBy: model.atributo | unique:model.atributo | filter:busqueda_a track by $index" ng-class="{'it_selected': item.seleccionado}">
            <div class="row contenedor-selector" >
              <div class="col-xs-1 col-sm-1 col-md-1" ng-class="{'invisible':sinCheck}">
                <input type="checkbox" ng-model="item.seleccionado" id="check-lista-a-{{$id}}-{{ item[item.atributo] }}" ng-model="busqueda[atributo]" >
                <label for="check-lista-a-{{$id}}-{{ item[item.atributo] }}" class="imitation-check ui-state-hover" ng-init="item.seleccionado=false" >
                  <span class="ui-icon ui-chkbox-icon ui-icon-check" ng-if="item.seleccionado"></span>
                </label>
              </div>
              <div class="col-xs-11 col-sm-11 col-md-11" ng-class="{'ancho-maximo':sinCheck}" ng-click="seleccionarCheck(model.listas.a, item, $event, false)"  draggable="true" ng-dragstart="seleccionarCheckDrag('lista-de-', item, $event, false)" >
                <div class="nombre_lista" >{{ model.atributo ? item[model.atributo]: item }}</div>
              </div>
            </div>
          </li>
        </ul>
      </div>
    </div>
  </div>
</div>
